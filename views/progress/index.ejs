<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/css/progress.css">
  <title>Progress</title>
</head>
<body>
    <div class="progress-page">
      <div class="progress-panel">
        <div class="period-tabs">
          <button class="tab active" data-period="daily">Daily</button>
          <button class="tab" data-period="weekly">Weekly</button>
          <button class="tab" data-period="monthly">Monthly</button>
        </div>

        <div class="progress-bars">
            <div class="progress-bar" data-metric="kcal">
              <span class="metric-icon">ğŸ”¥</span>
              <span class="metric-value"></span>
            </div>
            <div class="progress-bar" data-metric="steps">
              <span class="metric-icon">ğŸ‘Ÿ</span>
              <span class="metric-value"></span>
            </div>
            <div class="progress-bar" data-metric="sleep">
              <span class="metric-icon">ğŸ˜´</span>
              <span class="metric-value"></span>
            </div>
            <div class="progress-bar" data-metric="water">
              <span class="metric-icon">ğŸ’§</span>
              <span class="metric-value"></span>
            </div>
            <div class="progress-bar" data-metric="weight">
              <span class="metric-icon">âš–ï¸</span>
              <span class="metric-value"></span>
            </div>
            <div class="progress-bar" data-metric="stress">
              <span class="metric-icon">âœ¨</span>
              <span class="metric-value"></span>
            </div>
        </div>
    </div>
  </div>
    <!--End of Content-->

     <!--JavaScript-->
    <script src='/javascript/htmx.min.js'></script>
    <script type="module">
      import { generateNavBar, generateBackground } from '/javascript/components/controller.js'
      generateBackground();
      generateNavBar()
    </script>

      <script>
    document.addEventListener('DOMContentLoaded', () => {
      const dataByPeriod = {
        daily: {
          kcal: 'Kcal: 180/300 Kcal',
          steps: 'Steps: 4200/6000',
          sleep: 'Sleep: 80/100',
          water: 'Water: 1.5/2L',
          weight: 'Weight: 70/70 Kg',
          stress: 'Stress: 65/100'
        },
        weekly: {
          kcal: 'Kcal: 950/2100 Kcal',
          steps: 'Steps: 28000/42000',
          sleep: 'Sleep: 78/100',
          water: 'Water: 10/14L',
          weight: 'Weight: 70/70 Kg',
          stress: 'Stress: 60/100'
        },
        monthly: {
          kcal: 'Kcal: 3800/9000 Kcal',
          steps: 'Steps: 120000/180000',
          sleep: 'Sleep: 79/100',
          water: 'Water: 45/60L',
          weight: 'Weight: 70/70 Kg',
          stress: 'Stress: 58/100'
        }
      };

      const tabs = document.querySelectorAll('.period-tabs .tab');
      const bars = document.querySelectorAll('.progress-bar');

      function setPeriod(period) {
        tabs.forEach(tab => {
          tab.classList.toggle('active', tab.dataset.period === period);
        });

        bars.forEach(bar => {
          const metric = bar.dataset.metric;
          const span = bar.querySelector('.metric-value');
          span.textContent = dataByPeriod[period][metric] ?? '';
        });
      }

      tabs.forEach(tab => {
        tab.addEventListener('click', () => setPeriod(tab.dataset.period));
      });

      setPeriod('daily');
    });
  </script>
</body>
</html>
